<template>
<Navbar />   
<Loader v-if="loading" /> 
    <div v-else>
      <div class="card cart" >
        <div class="">
          <div class="intro py-3 text-center">
            <h1>ORDER CANCELED</h1>
            <div class="pt-5">
              <svg style="max-width: 439px; height: auto;" viewBox="0 0 439 304" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0)">
<path d="M313.847 207.869C313.847 235.381 297.492 244.987 277.317 244.987C257.142 244.987 240.787 235.381 240.787 207.869C240.787 180.358 277.317 145.359 277.317 145.359C277.317 145.359 313.847 180.358 313.847 207.869Z" fill="#02C9D0"/>
<path d="M276.361 217.754L291.931 189.269L276.419 214.142L276.588 203.789L287.319 183.181L276.632 201.049L276.935 182.429L288.426 166.023L276.982 179.502L277.171 145.359L276.034 188.622L264.398 170.81L275.894 192.272L274.805 213.068L274.773 212.516L261.305 193.697L274.732 214.466L274.596 217.066L274.571 217.106L274.583 217.319L271.821 245.069H275.511L275.954 242.827L289.348 222.11L275.987 240.779L276.361 217.754Z" fill="#3F3D56"/>
<path d="M438.949 119.411C438.949 171.964 407.707 190.314 369.167 190.314C330.628 190.314 299.385 171.964 299.385 119.411C299.385 66.8568 369.167 0 369.167 0C369.167 0 438.949 66.8568 438.949 119.411Z" fill="#F2F2F2"/>
<path d="M366.625 182.275L367.34 138.292L397.083 83.8794L367.452 131.393L367.773 111.616L388.272 72.249L367.858 106.383V106.383L368.436 70.8139L390.386 39.4727L368.527 65.2208L368.888 0L366.619 86.3406L366.806 82.7788L344.488 48.6187L366.447 89.6159L364.368 129.34L364.306 128.286L338.579 92.3377L364.228 132.011L363.968 136.979L363.922 137.054L363.943 137.461L358.667 238.245H365.716L366.562 186.188L392.148 146.612L366.625 182.275Z" fill="#3F3D56"/>
<path d="M436.084 229.446C436.084 245.132 334.33 304 215.379 304C96.4286 304 0 273.533 0 257.847C0 242.162 94.0618 260.806 213.013 260.806C331.963 260.806 436.084 213.76 436.084 229.446Z" fill="#3F3D56"/>
<path opacity="0.1" d="M436.084 229.446C436.084 245.132 334.33 304 215.379 304C96.4286 304 0 273.533 0 257.847C0 242.162 94.0618 260.806 213.013 260.806C331.963 260.806 436.084 213.76 436.084 229.446Z" fill="black"/>
<path d="M436.084 229.446C436.084 245.131 334.33 286.249 215.379 286.249C96.4286 286.249 0 273.533 0 257.847C0 242.161 94.0618 243.055 213.013 243.055C331.963 243.055 436.084 213.76 436.084 229.446Z" fill="#3F3D56"/>
<path opacity="0.1" d="M217.79 267.901C268.303 267.901 309.251 264.734 309.251 260.827C309.251 256.92 268.303 253.753 217.79 253.753C167.277 253.753 126.328 256.92 126.328 260.827C126.328 264.734 167.277 267.901 217.79 267.901Z" fill="black"/>
<path d="M145.334 119.066C145.334 119.066 172.11 119.562 167.151 124.272C162.193 128.983 143.598 124.272 143.598 124.272L145.334 119.066Z" fill="#FFB9B9"/>
<path d="M89.5453 61.8497C89.5453 61.8497 100.356 59.9191 104.115 68.6465C107.874 77.3738 115.594 102.264 115.594 102.264C115.594 102.264 136.253 115.939 140.011 115.489C143.769 115.04 150.192 115.957 149.014 120.056C147.836 124.156 148.359 128.804 145.646 129.374C142.933 129.944 138.619 124.506 135.317 127.125C132.015 129.744 102.588 120.177 100.699 118.194C98.8099 116.212 83.1099 73.2846 83.1099 73.2846C83.1099 73.2846 83.7379 61.7099 89.5453 61.8497Z" fill="#02C9D0"/>
<path d="M112.732 246.128L113.971 256.541L103.558 259.269L97.6079 256.541V247.368L112.732 246.128Z" fill="#FFB9B9"/>
<path d="M84.7154 252.822L85.955 263.235L75.5422 265.963L69.5918 263.235V254.062L84.7154 252.822Z" fill="#FFB9B9"/>
<path d="M113.723 132.33L118.434 149.437L125.376 184.147C125.376 184.147 127.359 192.577 123.392 202.742C119.425 212.907 112.236 246.129 113.723 248.113C115.211 250.096 96.8641 251.584 97.112 249.6C97.3599 247.617 99.8392 220.345 99.8392 220.345C99.8392 220.345 103.31 196.296 105.046 193.321C106.781 190.345 97.112 182.908 97.112 182.908C97.112 182.908 94.6327 211.419 90.9138 213.899C87.1949 216.378 87.6907 254.807 85.9552 255.303C84.2197 255.798 71.5754 257.782 70.0879 255.303C68.6003 252.823 70.0879 211.419 70.0879 211.419C70.0879 211.419 78.5174 179.932 76.7819 175.47C75.0464 171.007 76.0382 151.917 76.0382 151.917C76.0382 151.917 69.592 137.289 73.063 129.603L113.723 132.33Z" fill="#2F2E41"/>
<path d="M112.98 37.1262C112.98 37.1262 102.567 50.0184 103.062 55.7207C103.558 61.4231 86.6992 45.3078 86.6992 45.3078C86.6992 45.3078 98.8477 28.9446 98.8477 25.4736C98.8477 22.0026 112.98 37.1262 112.98 37.1262Z" fill="#FFB9B9"/>
<path d="M112.855 41.9608C121.893 41.9608 129.219 34.6348 129.219 25.5976C129.219 16.5604 121.893 9.23438 112.855 9.23438C103.818 9.23438 96.4922 16.5604 96.4922 25.5976C96.4922 34.6348 103.818 41.9608 112.855 41.9608Z" fill="#FFB9B9"/>
<path d="M71.6176 123.055C70.8763 125.817 69.9565 128.949 70.0879 131.587C70.1723 133.295 74.7068 134.415 80.9769 135.149C86.7908 135.831 94.0973 136.178 100.739 136.357C107.713 136.545 113.949 136.545 116.946 136.545C125.872 136.545 118.682 130.843 115.211 128.116C111.74 125.388 112.484 86.7118 112.732 81.7532C112.979 76.7946 110.5 62.4149 110.5 59.6877C110.5 56.9605 104.666 49.8425 104.666 49.8425C104.666 49.8425 103.31 53.7374 97.8558 48.5309C92.4014 43.3245 85.2115 41.8369 85.2115 41.8369C79.7571 43.8203 70.5838 65.6379 70.0879 69.3568C69.8871 70.8667 70.0532 78.5996 70.3904 87.4283C70.8788 100.333 71.7317 115.588 72.3193 117.207C72.7829 118.484 72.2697 120.626 71.6176 123.055Z" fill="#02C9D0"/>
<path d="M98.1035 137.536L99.839 143.735L93.1448 150.677L90.9136 141.007L98.1035 137.536Z" fill="#FFB9B9"/>
<path d="M100.335 253.814C100.335 253.814 105.541 259.764 109.508 255.797C113.475 251.831 113.227 249.351 113.971 249.351C114.715 249.351 125.872 259.268 125.872 259.268C125.872 259.268 144.962 263.731 134.549 266.954C124.136 270.177 94.6327 267.946 94.6327 266.954C94.6327 265.963 93.8889 252.822 96.6161 252.822L100.335 253.814Z" fill="#2F2E41"/>
<path d="M72.3194 260.508C72.3194 260.508 77.5259 266.458 81.4927 262.492C85.4595 258.525 85.2116 256.045 85.9554 256.045C86.6992 256.045 97.8559 265.963 97.8559 265.963C97.8559 265.963 116.946 270.425 106.533 273.648C96.1204 276.871 66.6171 274.64 66.6171 273.648C66.6171 272.657 65.8733 259.516 68.6005 259.516L72.3194 260.508Z" fill="#2F2E41"/>
<path d="M94.4839 38.6596C93.9553 39.0011 93.2672 39.3472 92.7379 39.0067C90.7701 34.099 89.2992 29.0065 88.3474 23.8054C88.0132 21.9785 87.7812 19.9475 88.7961 18.3921C89.1964 17.7787 89.7727 17.277 90.0659 16.6058C90.5099 15.5892 90.2176 14.4126 90.3651 13.3132C90.6742 11.0098 92.8515 9.40333 95.041 8.6242C97.2304 7.84506 99.6084 7.60338 101.695 6.58101C103.677 5.61023 105.264 4.00025 107.102 2.77852C108.939 1.55679 111.293 0.721442 113.34 1.547C115.15 2.27734 116.278 4.12261 117.989 5.06216C119.15 5.69974 120.497 5.87716 121.793 6.15085C125.396 6.91516 128.778 8.48651 131.686 10.7467C132.393 11.2513 133.003 11.8801 133.486 12.6025C135.682 16.2177 131.75 21.1327 133.485 24.9906L129.735 22.0316C128.733 21.1557 127.604 20.438 126.386 19.9032C125.144 19.4328 123.673 19.3759 122.544 20.0767C120.961 21.0603 120.532 23.1151 119.978 24.8951C119.425 26.6752 118.202 28.6491 116.339 28.6035C113.804 28.5415 112.918 25.0048 110.644 23.8851C109.161 23.1551 107.295 23.6358 106.031 24.7004C104.768 25.7649 104.009 27.3095 103.453 28.8655C103.105 29.8378 102.779 30.934 102.162 31.7768C101.481 32.7064 100.61 32.7812 99.8827 33.4754C97.9896 35.2825 96.8257 37.1467 94.4839 38.6596Z" fill="#2F2E41"/>
<path opacity="0.1" d="M71.6179 123.055C74.6996 127.526 78.1731 132.137 80.9771 135.149C86.791 135.831 94.0974 136.178 100.739 136.357C99.5528 134.748 98.0691 133.381 96.3684 132.33C93.1454 130.347 85.4597 106.794 85.4597 106.794C85.4597 106.794 94.8809 82.497 97.3602 73.3236C99.8394 64.1503 90.1703 58.9438 90.1703 58.9438C85.7076 55.2249 78.0218 63.9024 78.0218 63.9024C78.0218 63.9024 74.0996 75.7335 70.3906 87.4282C70.879 100.333 71.7319 115.588 72.3195 117.207C72.7831 118.484 72.2699 120.626 71.6179 123.055Z" fill="black"/>
<path d="M89.4266 56.9604C89.4266 56.9604 99.0957 62.1669 96.6164 71.3402C94.1372 80.5135 84.7159 104.81 84.7159 104.81C84.7159 104.81 92.4017 128.363 95.6247 130.347C98.8478 132.33 103.31 137.041 99.8395 139.52C96.3685 142 93.8892 145.966 91.41 144.727C88.9307 143.487 88.9307 136.545 84.7159 136.545C80.5012 136.545 63.3942 110.761 63.1462 108.033C62.8983 105.306 77.2781 61.919 77.2781 61.919C77.2781 61.919 84.9639 53.2415 89.4266 56.9604Z" fill="#02C9D0"/>
<path d="M290.484 124.726L287.695 121.937C286.068 120.31 283.862 119.396 281.561 119.396C279.26 119.396 277.054 120.31 275.427 121.937L221.327 176.037L167.227 121.937C165.6 120.31 163.393 119.396 161.092 119.396C158.792 119.396 156.585 120.31 154.958 121.937L152.169 124.726C151.364 125.531 150.725 126.488 150.289 127.54C149.853 128.593 149.628 129.721 149.628 130.86C149.628 131.999 149.853 133.127 150.289 134.18C150.725 135.232 151.364 136.188 152.169 136.994L206.269 191.094L152.169 245.194C151.364 246 150.725 246.956 150.289 248.009C149.853 249.061 149.628 250.189 149.628 251.328C149.628 252.468 149.853 253.596 150.289 254.648C150.725 255.701 151.364 256.657 152.169 257.462L154.958 260.252C156.585 261.878 158.792 262.792 161.092 262.792C163.393 262.792 165.6 261.878 167.227 260.252L221.327 206.151L275.427 260.252C277.054 261.878 279.26 262.792 281.561 262.792C283.862 262.792 286.068 261.878 287.695 260.252L290.484 257.462C292.111 255.836 293.025 253.629 293.025 251.328C293.025 249.028 292.111 246.821 290.484 245.194L236.384 191.094L290.484 136.994C292.111 135.367 293.025 133.161 293.025 130.86C293.025 128.559 292.111 126.353 290.484 124.726V124.726Z" fill="#FF6584"/>
<path opacity="0.1" d="M150.239 248.136L202.733 195.642L202.227 195.137L152.169 245.194C151.331 246.032 150.674 247.033 150.239 248.136V248.136Z" fill="black"/>
<path opacity="0.1" d="M151.421 126.485C153.048 124.858 155.255 123.944 157.555 123.944C159.856 123.944 162.063 124.858 163.69 126.485L217.79 180.585L271.89 126.485C273.517 124.858 275.723 123.944 278.024 123.944C280.325 123.944 282.531 124.858 284.158 126.485L286.947 129.274C288.144 130.47 288.964 131.991 289.307 133.648C289.65 135.306 289.501 137.027 288.878 138.6L290.484 136.994C291.29 136.188 291.929 135.232 292.365 134.18C292.801 133.127 293.025 131.999 293.025 130.86C293.025 129.721 292.801 128.593 292.365 127.54C291.929 126.488 291.29 125.531 290.484 124.726L287.695 121.937C286.068 120.31 283.862 119.396 281.561 119.396C279.26 119.396 277.054 120.31 275.427 121.937L221.327 176.037L167.227 121.937C165.6 120.31 163.393 119.396 161.093 119.396C158.792 119.396 156.585 120.31 154.959 121.937L152.169 124.726C151.331 125.563 150.674 126.565 150.239 127.667L151.421 126.485Z" fill="black"/>
<path opacity="0.1" d="M236.889 191.599L232.847 195.642L286.947 249.742C288.144 250.939 288.964 252.46 289.307 254.117C289.65 255.774 289.501 257.496 288.878 259.069L290.484 257.462C291.29 256.657 291.929 255.701 292.365 254.648C292.801 253.596 293.025 252.468 293.025 251.328C293.025 250.189 292.801 249.061 292.365 248.009C291.929 246.956 291.29 246 290.484 245.194L236.889 191.599Z" fill="black"/>
<path d="M62.9946 227.671C62.9946 250.521 49.411 258.499 32.6548 258.499C15.8986 258.499 2.31494 250.521 2.31494 227.671C2.31494 204.822 32.6548 175.754 32.6548 175.754C32.6548 175.754 62.9946 204.822 62.9946 227.671Z" fill="#02C9D0"/>
<path d="M31.8601 235.881L44.7919 212.223L31.9089 232.881L32.0487 224.282L40.961 207.166L32.0857 222.007L32.3368 206.542L41.8803 192.915L32.3763 204.111L32.5331 175.754L31.589 211.685L21.9248 196.892L31.472 214.717L30.5681 231.988L30.5413 231.53L19.3555 215.9L30.5071 233.149L30.3942 235.31L30.3738 235.342L30.3832 235.519L28.0894 258.567H31.1542L31.522 256.705L42.6464 239.498L31.5496 255.003L31.8601 235.881Z" fill="#3F3D56"/>
</g>
<defs>
<clipPath id="clip0">
<rect width="438.949" height="304" fill="white"/>
</clipPath>
</defs>
</svg>

            </div>
            <div class="container text-left py-4" >
          <a href="#" @click="goHome" v-on:click.prevent><i class="fa fa-long-arrow-left" style="font-size: 50px; color: #132a5e"></i></a>
        </div>
            </div>
        </div>      
      </div>          
    </div>
</template>

<script>
const axios = require('axios');
import Navbar from "@/components/Navbar.vue"
import Loader from "@/components/Loader.vue"
import moment from "moment";

export default {
  components: {
    Navbar, Loader
  },
  name: 'OrderCancelled',  
  data(){
    return {
      loading: true,
      timeNow: moment().format("HH:mm"),
      expiredAt: moment("13:00", "HH:mm"),
    }
  },
  beforeCreate () {
    document.querySelector('body').setAttribute('style', 'background:#e5e5e752')
  },
  created(){
    this.timeNow = moment(this.timeNow, "HH:mm")
    if(this.timeNow < this.expiredAt){
      axios({
        method: 'patch',
        url: process.env.VUE_APP_BACKEND_URL + 'Orders/CancelOrder?UID=' + this.$route.params.orderId,
        headers: { 'Content-Type': 'application/json' },
      })
      .then(
        this.loading = false
      )
      .catch((error) => {
        console.error(error);
        this.$toast.error("Something went wrong, please try again.",
          {
            position:"bottom-right",
            duration: 4000,
          }
        );
      }); 
    }
    else{
      this.$router.push({ name: 'NotAllowed' })
    }   
  },
  methods: {
    goHome(){
      this.$router.push({ name: 'Home' })
    },
  },
}
</script>

<style>

</style>